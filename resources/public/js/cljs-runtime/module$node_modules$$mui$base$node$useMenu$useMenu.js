shadow$provide.module$node_modules$$mui$base$node$useMenu$useMenu=function(global,require,module,exports){function _getRequireWildcardCache(nodeInterop$jscomp$0){if("function"!==typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop$jscomp$0)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,
"__esModule",{value:!0});exports.default=function(parameters={}){const {defaultOpen,listboxRef:listboxRefProp,open:openProp,onOpenChange}=parameters,listboxRef=React.useRef(null);parameters=(0,_utils.unstable_useForkRef)(listboxRef,listboxRefProp);const {subitems,contextValue:compoundComponentContextValue}=(0,_useCompound.useCompoundParent)(),subitemKeys=React.useMemo(()=>Array.from(subitems.keys()),[subitems]),getItemDomElement=React.useCallback(itemId=>{var _subitems$get$ref$cur,_subitems$get;return null==
itemId?null:null!=(_subitems$get$ref$cur=null==(_subitems$get=subitems.get(itemId))?void 0:_subitems$get.ref.current)?_subitems$get$ref$cur:null},[subitems]),controlledProps=React.useMemo(()=>({open:openProp}),[openProp]),stateChangeHandler=React.useCallback((event,field,fieldValue,reason,state)=>{if("open"===field&&(null==onOpenChange?void 0:onOpenChange(fieldValue),!0===fieldValue&&null!==state.highlightedValue)){var _subitems$get2,_subitems$get2$ref$cu;null==(_subitems$get2=subitems.get(state.highlightedValue))?
void 0:null==(_subitems$get2$ref$cu=_subitems$get2.ref.current)?void 0:_subitems$get2$ref$cu.focus()}},[onOpenChange,subitems]),{dispatch,getRootProps,contextValue:listContextValue,state:{open,highlightedValue}}=(0,_useList.default)({controlledProps,disabledItemsFocusable:!0,focusManagement:"DOM",getItemDomElement,getInitialState:()=>({selectedValues:[],highlightedValue:null,open:null!=defaultOpen?defaultOpen:!1}),isItemDisabled:id=>{var _subitems$get3;return(null==subitems?void 0:null==(_subitems$get3=
subitems.get(id))?void 0:_subitems$get3.disabled)||!1},items:subitemKeys,itemStringifier:id=>{var _subitems$get4,_subitems$get5,_subitems$get5$ref$cu;return(null==(_subitems$get4=subitems.get(id))?void 0:_subitems$get4.label)||(null==(_subitems$get5=subitems.get(id))?void 0:null==(_subitems$get5$ref$cu=_subitems$get5.ref.current)?void 0:_subitems$get5$ref$cu.innerText)},listRef:parameters,onStateChange:stateChangeHandler,reducerActionContext:{listboxRef},selectionMode:"none",stateReducer:_menuReducer.default});
React.useEffect(()=>{if(open&&highlightedValue===subitemKeys[0]){var _subitems$get6,_subitems$get6$ref,_subitems$get6$ref$cu;null==(_subitems$get6=subitems.get(subitemKeys[0]))?void 0:null==(_subitems$get6$ref=_subitems$get6.ref)?void 0:null==(_subitems$get6$ref$cu=_subitems$get6$ref.current)?void 0:_subitems$get6$ref$cu.focus()}},[open,highlightedValue,subitems,subitemKeys]);React.useEffect(()=>{var _listboxRef$current;if(null!=(_listboxRef$current=listboxRef.current)&&_listboxRef$current.contains(document.activeElement)&&
null!==highlightedValue){var _subitems$get7,_subitems$get7$ref$cu;null==subitems?void 0:null==(_subitems$get7=subitems.get(highlightedValue))?void 0:null==(_subitems$get7$ref$cu=_subitems$get7.ref.current)?void 0:_subitems$get7$ref$cu.focus()}},[highlightedValue,subitems]);React.useDebugValue({subitems,highlightedValue});return{contextValue:(0,_extends2.default)({},compoundComponentContextValue,listContextValue),dispatch,getListboxProps:(otherHandlers={})=>{const rootProps=getRootProps(otherHandlers);
return(0,_extends2.default)({},otherHandlers,rootProps,{role:"menu"})},highlightedValue,menuItems:subitems,open}};var _extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),React=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==typeof obj&&"function"!==typeof obj)return{default:obj};if((nodeInterop=_getRequireWildcardCache(nodeInterop))&&nodeInterop.has(obj))return nodeInterop.get(obj);var newObj={},hasPropertyDescriptor=
Object.defineProperty&&Object.getOwnPropertyDescriptor,key;for(key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj;nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("module$node_modules$react$index")),_utils=require("module$node_modules$$mui$utils$index"),_useList=global(require("module$node_modules$$mui$base$node$useList$index")),
_useCompound=require("module$node_modules$$mui$base$node$utils$useCompound"),_menuReducer=global(require("module$node_modules$$mui$base$node$useMenu$menuReducer"))}
//# sourceMappingURL=module$node_modules$$mui$base$node$useMenu$useMenu.js.map
